<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Joshua Chen Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Joshua Chen Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous" defer="defer"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/mhchem.min.js" integrity="sha384-5gCAXJ0ZgozlShOzzT0OWArn7yCPGWVIvgo+BAd8NUKbCmulrJiQuCVR9cHlPHeG" crossorigin="anonymous" defer="defer"></script><title data-react-helmet="true">关于异或运算的一点随想 | Joshua Chen</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="关于异或运算的一点随想 | Joshua Chen"><meta data-react-helmet="true" name="description" content="{children}"><meta data-react-helmet="true" property="og:description" content="{children}"><meta data-react-helmet="true" property="og:url" content="https://josh-cena.github.io/docs/Technology/xor"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://josh-cena.github.io/docs/Technology/xor"><link rel="stylesheet" href="/styles.64095318.css">
<link rel="preload" href="/styles.905cee5f.js" as="script">
<link rel="preload" href="/runtime~main.41336973.js" as="script">
<link rel="preload" href="/main.3a098818.js" as="script">
<link rel="preload" href="/1.4e89334f.js" as="script">
<link rel="preload" href="/2.cda156e1.js" as="script">
<link rel="preload" href="/55.a0d3e989.js" as="script">
<link rel="preload" href="/56.e6dbd0be.js" as="script">
<link rel="preload" href="/935f2afb.f22a0f43.js" as="script">
<link rel="preload" href="/17896441.98775abf.js" as="script">
<link rel="preload" href="/838ac36d.4dd4feed.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="JC" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-dark.svg" alt="JC" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Josh-Cena</strong></a><a class="navbar__item navbar__link" href="/CV">Profile</a><a class="navbar__item navbar__link" href="/Todo">Todo list</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Science/cavalieri">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Josh-Cena" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="JC" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-dark.svg" alt="JC" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Josh-Cena</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/CV">Profile</a></li><li class="menu__list-item"><a class="menu__link" href="/Todo">Todo list</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/Science/cavalieri">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Josh-Cena" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Science</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/cavalieri">Cavalieri principle in 2D geometry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/le-chatlier">Le Chatlier&#x27;s Principle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/derivative">Error propagation and derivatives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/marathon">Kipchoge and marathon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/circular">Circular motion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/bee">All for the bees</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/electromagnetic">Coil in a magnetic field</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/gfp">Grand design in wild-type GFP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/summation">Fancy summation uses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/resonance">Drawing resonance structures with elegance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/dna">All about that base in the DNA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/airy">Circular aperture diffraction: the misterious 1.22</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/ladder">Building a ladder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/amino-acid">All about that amino acids</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Science/vitamin">All about that vitamins</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Technology</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Technology/docusaurus">Docusaurus help</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Technology/xor">Random thoughts about XOR</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Technology/typeset">Typesetting with grace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Technology/scripting">First experience with script crawling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Technology/easy-tsims">Introducing &quot;Easy-TSIMS&quot;</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Humanities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Humanities/price">Revenue and cost curves</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Humanities/voting">A voting paradox</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Humanities/bananafish">Seymour Glass: he comes, he goes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Humanities/law">Antigone: unjust laws are not laws</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Short stories</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/blue-pills">Blue pills and a birthday</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/suicide">A man decides to die</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/sun">The Sun! The Sun!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/wine">About wine, dark nights, and a pen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/light">About the Sun, lamplight, and star sky</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/cat">Cat lover</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/red-pills">Red pills for Christmas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/dream">About dreams, fall, and reality</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Stories/blood">About blood, flames, and life</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">关于异或运算的一点随想</h1></header><div class="markdown"><blockquote><p>First published on Sept 18, 2019</p><p>Link: <a href="https://mp.weixin.qq.com/s/nBy4ScJTYmZ07-VopTzxGg" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/nBy4ScJTYmZ07-VopTzxGg</a></p></blockquote><p style="color:orange">面试算法题警告</p><p style="color:orange">Minecraft教程警告</p><p style="color:orange">本文默认读者了解基本异或运算知识，如：<code>0^0=0</code>, <code>0^1=1</code>, <code>1^1=0</code>, <code>x^0=x</code>, <code>x^1=x&#x27;</code>, <code>x^x=0</code> 等</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="一、从一类经典面试题类型讲起"></a>一、从一类经典面试题类型讲起<a class="hash-link" href="#一、从一类经典面试题类型讲起" title="Direct link to heading">#</a></h2><p>算法题中，经常会出现数组类的题目——刁钻的是，这种题目往往要求原地改变数组的值而不是返回新的数组。比如这道题——</p><blockquote><p>给定一个 n × n 的二维矩阵表示一个图像。将图像顺时针旋转 90 度。</p><p>必须在原地旋转图像，直接修改输入的二维矩阵。</p><p>示例 1: 给定</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">matrix =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[1,2,3],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [4,5,6],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [7,8,9]],</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>原地旋转输入矩阵，使其变为:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[7,4,1],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [8,5,2],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [9,6,3]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>示例 2: 给定</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">matrix =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[ 5, 1, 9,11],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [ 2, 4, 8,10],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [13, 3, 6, 7],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [15,14,12,16]],</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>原地旋转输入矩阵，使其变为:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[15,13, 2, 5],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [14, 3, 4, 1],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [12, 6, 8, 9],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [16, 7,10,11]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>来源：力扣（LeetCode）</p><p>链接：48. 旋转图像 - 力扣（LeetCode）</p></blockquote><p>题目本身不难，但绝大多数算法时间都是1ms（java数据），精益求精的程序猿肯定会想尽办法再从这里面抠出1ms来；那么，不改变算法的情况下，有哪些细节可以优化呢？
在原地改变数组的算法中，几乎一定会涉及两数的交换；如果要写出一个 <code>swap(int a, int b)</code> 函数，绝大多数人写出来应该类似这样：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void swap(int a, int b) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int temp = a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>创建了一个临时 <code>temp</code> 变量，来暂时存储将要被覆盖的数据。这样占用了额外的空间，既没有派上很大用场，又会导致后续的一系列在栈上做增减的工作（此处存疑），很不优雅；能不能不创造临时变量，直接在 <code>a</code> 和 <code>b</code> 上做文章？来康康这个：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//请注意添加对此类算法的注释以免变成无人理解的垃圾代码</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void swap(int a, int b) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = a ^ b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = a ^ b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = a ^ b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>有没有立即觉得优雅简洁了？三个赋值语句，右边都是 <code>a^b</code>，左边则分别是 <code>a</code>、<code>b</code>、<code>a</code>——它是怎么实现的？一步步看：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">a = a ^ b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b = a ^ b = (a ^ b) ^ b //代入a的表达式</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          = a ^ (b ^ b) //结合律</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          = a ^ 0       //变量与自身异或，结果为0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          = a           //成功交换</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a = a ^ b = (a ^ b) ^ a //代入原本a与b的值</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          = (a ^ a) ^ b //结合律+交换律</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          = 0 ^ b       //变量与自身异或，结果为0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          = b           //成功交换</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>由于一般的编译器不可能发现并优化成这种方法，因此需要程序员本人了解它并使用。而且，这样的算法，性能果然得到了一定提升，从1ms变成0ms，成功碾压100%的java程序，的确是异常神奇呢……</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="二、再接再厉"></a>二、再接再厉<a class="hash-link" href="#二、再接再厉" title="Direct link to heading">#</a></h2><p>看一道更加经典的题目：</p><blockquote><p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p><p>说明：你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？</p><p>示例 1:</p><p>输入: <code>[2,2,1]</code></p><p>输出: <code>1</code></p><p>示例 2:</p><p>输入: <code>[4,1,2,1,2]</code></p><p>输出: <code>4</code></p><p>来源：力扣（LeetCode）</p><p>链接：<a href="https://leetcode-cn.com/problems/single-number" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/single-number</a></p></blockquote><p>第一种思路：暴力扫描法，需要 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> 时间；第二种，填表记录法，需要 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> 时间和 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> 空间。那么，有没有 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> 时间和 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> 空间的优美算法？</p><p>这种算法对于熟悉异或思想的人，实际上并不难想到：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public int singleNumber(int[] nums) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int a = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; nums.length; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        a ^= nums[i];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>因为把整个数组全部按位异或后，相同的数都两两抵消，变成0了，一堆0在一起运算，仍然是0；0和那个孤单的数异或，结果便是那个数本身。</p><p>所以，只要看到“相同”“重复出现”等字样，就应当把思路往异或上去靠。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="三、重回格雷码"></a>三、重回格雷码<a class="hash-link" href="#三、重回格雷码" title="Direct link to heading">#</a></h2><p>格雷码的得出，除了比较繁琐的递归法外，还有一种异或法：</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>3</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>3</mn></msub><mo>⊕</mo><msub><mi>B</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>2</mn></msub><mo>⊕</mo><msub><mi>B</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>0</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>1</mn></msub><mo>⊕</mo><msub><mi>B</mi><mn>0</mn></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} G_3&amp;=B_3\\ G_2&amp;=B_3\oplus B_2\\ G_1&amp;=B_2\oplus B_1\\ G_0&amp;=B_1\oplus B_0 \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6em;vertical-align:-2.7500000000000004em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999993em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-0.9099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999993em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-0.9099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>格雷码是为了杜绝进位时出现多个数位改变的情况；而在上面的算式中，如果两个数位（用 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span></span></span></span> 表示）同时从11变成00，格雷码数位（用 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em"></span><span class="mord mathnormal">G</span></span></span></span></span> 表示）仍然保持为0。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="四、minecraft中的异或门"></a>四、Minecraft中的异或门<a class="hash-link" href="#四、minecraft中的异或门" title="Direct link to heading">#</a></h2><p>来讲讲如何在 Minecraft 中建造异或门。</p><p>Minecraft 中只提供了或门（两个输入端用红石线相连）和非门（红石火把）；那么，任务就是把异或用或和非来表示。</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>A</mi><mo>⊕</mo><mi>B</mi><mo>=</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi>B</mi><mo>+</mo><mi>A</mi><msup><mi>B</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mi>B</mi><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mo stretchy="false">(</mo><mi>A</mi><mo>+</mo><msup><mi>B</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mi>A</mi><mi>B</mi><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mo stretchy="false">(</mo><msup><mi>B</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mi>A</mi><mi>B</mi><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} A\oplus B=A&#x27;B+AB&#x27;=(A&#x27;+B)&#x27;+(A+B&#x27;)&#x27;=(A&#x27;+AB)&#x27;+(B&#x27;+AB)&#x27; \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5000000000000002em;vertical-align:-0.5000000000000002em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em"><span style="top:-3.16em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5000000000000002em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>至于为什么要写成最后的形式而不是倒数第二个式子，就需要一些逻辑设计的经验了。最后一种看似更繁琐，实际上独立项从四个变成了三个，便于电路设计。</p><p>接下来，运用丰富的红石电路设计经验，就搞出来了：</p><div style="text-align:center"><img src="/img/./docs/Technology/xor/JGibibkelET6ickicicmsMd0DBoeWH4UjqXpE9cQke2iaoOHl6G11EPeDNCFFKe8JBicQTLShTYQeseTjib8YgymQHMI8g.jpeg"><p style="color:gray;font-size:small"></p></div><p>从左至右，分别对应输入是00，01，11。这种设计，非常紧凑，但延时要比另一种也很常用的设计（虽然我个人不用）多 1 tick。</p><p>由此可见，异或运算的确是一种十分实用，潜力无限的工具。希望大家能使用好它。</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Technology/docusaurus"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Docusaurus help</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Technology/typeset"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">如何做一个没有感情的排版机器 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一、从一类经典面试题类型讲起" class="table-of-contents__link">一、从一类经典面试题类型讲起</a></li><li><a href="#二、再接再厉" class="table-of-contents__link">二、再接再厉</a></li><li><a href="#三、重回格雷码" class="table-of-contents__link">三、重回格雷码</a></li><li><a href="#四、minecraft中的异或门" class="table-of-contents__link">四、Minecraft中的异或门</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/Science/amino-acid">Science</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Technology/easy-tsims">Technology</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Humanities/law">Humanities</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Stories/red-pills">Short stories</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Josh-Cena" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://www.zhihu.com/people/joshcena" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zhihu</a></li><li class="footer__item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzAwMzI0ODk0NA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="footer__link-item">WeChat official account</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Sida Chen. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.905cee5f.js"></script>
<script src="/runtime~main.41336973.js"></script>
<script src="/main.3a098818.js"></script>
<script src="/1.4e89334f.js"></script>
<script src="/2.cda156e1.js"></script>
<script src="/55.a0d3e989.js"></script>
<script src="/56.e6dbd0be.js"></script>
<script src="/935f2afb.f22a0f43.js"></script>
<script src="/17896441.98775abf.js"></script>
<script src="/838ac36d.4dd4feed.js"></script>
</body>
</html>
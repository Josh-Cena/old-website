<!doctype html>
<html lang="zh-Hans" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/zh-Hans/blog/rss.xml" title="Joshua Chen Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-Hans/blog/atom.xml" title="Joshua Chen Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous" defer="defer"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/mhchem.min.js" integrity="sha384-5gCAXJ0ZgozlShOzzT0OWArn7yCPGWVIvgo+BAd8NUKbCmulrJiQuCVR9cHlPHeG" crossorigin="anonymous" defer="defer"></script><title data-react-helmet="true">关于异或运算的一点随想 | Joshua Chen</title><meta data-react-helmet="true" property="og:url" content="https://josh-cena.github.io/zh-Hans/docs/Technology/xor"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-Hans"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="关于异或运算的一点随想 | Joshua Chen"><meta data-react-helmet="true" name="description" content="{children}"><meta data-react-helmet="true" property="og:description" content="{children}"><link data-react-helmet="true" rel="shortcut icon" href="/zh-Hans/img/favicon/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://josh-cena.github.io/zh-Hans/docs/Technology/xor"><link data-react-helmet="true" rel="alternate" href="https://josh-cena.github.io/docs/Technology/xor" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://josh-cena.github.io/zh-Hans/docs/Technology/xor" hreflang="zh-Hans"><link data-react-helmet="true" rel="alternate" href="https://josh-cena.github.io/docs/Technology/xor" hreflang="x-default"><link rel="stylesheet" href="/zh-Hans/assets/css/styles.31797ee1.css">
<link rel="preload" href="/zh-Hans/assets/js/styles.5cde54a4.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/runtime~main.117c098d.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/main.a1403e21.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/1.e104f479.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/2.0984c777.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/3.9697c3f9.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/1be78505.3395fb7c.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/82.7b28ef6f.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/935f2afb.75a136c9.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/17896441.ed4d9c9a.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/620bf1c9.8b59b5f0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><img src="/zh-Hans/img/logo.svg" alt="JC" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zh-Hans/img/logo-dark.svg" alt="JC" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Josh-Cena</strong></a><a class="navbar__item navbar__link" href="/zh-Hans/CV">简介</a><a class="navbar__item navbar__link" href="/zh-Hans/Todo">待办清单</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-Hans/docs/about">文章</a><a class="navbar__item navbar__link" href="/zh-Hans/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/docs/Technology/xor" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh-Hans/docs/Technology/xor" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文</a></li></ul></div><a href="https://github.com/Josh-Cena" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/zh-Hans/"><img src="/zh-Hans/img/logo.svg" alt="JC" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zh-Hans/img/logo-dark.svg" alt="JC" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Josh-Cena</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/zh-Hans/CV">简介</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-Hans/Todo">待办清单</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/zh-Hans/docs/about">文章</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-Hans/blog">博客</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/Technology/xor" target="_self" rel="noopener noreferrer" class="menu__link">English</a></li><li class="menu__list-item"><a href="/zh-Hans/docs/Technology/xor" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">中文</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/Josh-Cena" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="打开菜单" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">关于本站</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/about">关于这些文章</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Technology/docusaurus">Docusaurus 帮助指南</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">微信公众平台</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">科学</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/cavalieri">平面几何大宝鉴：祖暅原理的平面几何运用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/le-chatlier">勒夏特列原理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/derivative">关于误差传递与导数运算的发现</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/marathon">从基普乔格与马拉松讲起</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/circular">（卑微的）圆周运动公式推导</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/bee">辣 鸡 化学题 | 一切为了蜜蜂</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/electromagnetic">磁场中的线圈</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/gfp">天然GFP中的大设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/summation">把求和符号用出花来</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/resonance">优雅地绘制共振式</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/dna">DNA中那几个碱基的故事</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/airy">圆孔衍射：迷の1.22</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/ladder">又见辣鸡化学题 | 一格，两格，搭梯子</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/amino-acid">氨基酸图鉴</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Science/vitamin">维生素图鉴</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">技术</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/zh-Hans/docs/Technology/xor">关于异或运算的一点随想</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/Technology/typeset">如何做一个没有感情的排版机器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/Technology/scripting">脚本爬取数据の初体验</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/Technology/easy-tsims">Introducing &quot;Easy-TSIMS&quot;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/Technology/curve">如何画一条等宽的曲带</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">人文</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Humanities/price">收入与成本曲线</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Humanities/voting">选举的悖论</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Humanities/bananafish">西摩·格拉斯：那个男人来了，那个男人走了</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Humanities/law">安提戈涅：恶法非法！</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">小说</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/blue-pills">Blue pills and a birthday</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/suicide">一个男人决定去死</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/sun">太阳！太阳！</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/wine">关于酒、深夜与笔</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/light">关于太阳、灯光与星空</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/cat">猫奴</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/red-pills">Red pills for Christmas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/dream">关于梦境、坠落与现实</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Stories/blood">关于血液、火焰与生命</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">知乎</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">数字电路学习笔记</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Digital/note1">数字电路学习笔记（一）：前言</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Digital/note2">数字电路学习笔记（二）：数制与编码</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Digital/note3">数字电路学习笔记（三）：基本逻辑</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/Digital/note4">数字电路学习笔记（四）：逻辑代数系统</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">LaTeX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-Hans/docs/LaTeX/circuitikz">用LaTeX优雅地绘制数字电路</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">关于异或运算的一点随想</h1></header><div class="markdown"><blockquote><p>首次发布于 2019 年 9 月 18 日</p><p>原文链接：<a href="https://mp.weixin.qq.com/s/nBy4ScJTYmZ07-VopTzxGg" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/nBy4ScJTYmZ07-VopTzxGg</a></p></blockquote><p style="color:orange">面试算法题警告</p><p style="color:orange">Minecraft教程警告</p><p style="color:orange">本文默认读者了解基本异或运算知识，如：<code>0^0=0</code>, <code>0^1=1</code>, <code>1^1=0</code>, <code>x^0=x</code>, <code>x^1=x&#x27;</code>, <code>x^x=0</code> 等</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="一、从一类经典面试题类型讲起"></a>一、从一类经典面试题类型讲起<a class="hash-link" href="#一、从一类经典面试题类型讲起" title="标题的直接链接">#</a></h2><p>算法题中，经常会出现数组类的题目——刁钻的是，这种题目往往要求原地改变数组的值而不是返回新的数组。比如这道题——</p><blockquote><p>给定一个 n × n 的二维矩阵表示一个图像。将图像顺时针旋转 90 度。</p><p>必须在原地旋转图像，直接修改输入的二维矩阵。</p><p>示例 1: 给定</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">matrix =</span></div><div class="token-line" style="color:#000000"><span class="token plain">[[1,2,3],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [4,5,6],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [7,8,9]],</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>原地旋转输入矩阵，使其变为:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">[[7,4,1],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [8,5,2],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [9,6,3]]</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>示例 2: 给定</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">matrix =</span></div><div class="token-line" style="color:#000000"><span class="token plain">[[ 5, 1, 9,11],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [ 2, 4, 8,10],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [13, 3, 6, 7],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [15,14,12,16]],</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>原地旋转输入矩阵，使其变为:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">[[15,13, 2, 5],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [14, 3, 4, 1],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [12, 6, 8, 9],</span></div><div class="token-line" style="color:#000000"><span class="token plain"> [16, 7,10,11]]</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>来源：力扣（LeetCode）</p><p>链接：48. 旋转图像 - 力扣（LeetCode）</p></blockquote><p>题目本身不难，但绝大多数算法时间都是 1ms（java 数据），精益求精的程序猿肯定会想尽办法再从这里面抠出 1ms 来；那么，不改变算法的情况下，有哪些细节可以优化呢？
在原地改变数组的算法中，几乎一定会涉及两数的交换；如果要写出一个 <code>swap(int a, int b)</code> 函数，绝大多数人写出来应该类似这样：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">public void swap(int a, int b) {</span></div><div class="token-line" style="color:#000000"><span class="token plain">    int temp = a;</span></div><div class="token-line" style="color:#000000"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#000000"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#000000"><span class="token plain">}</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>创建了一个临时 <code>temp</code> 变量，来暂时存储将要被覆盖的数据。这样占用了额外的空间，既没有派上很大用场，又会导致后续的一系列在栈上做增减的工作（此处存疑），很不优雅；能不能不创造临时变量，直接在 <code>a</code> 和 <code>b</code> 上做文章？来康康这个：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">//请注意添加对此类算法的注释以免变成无人理解的垃圾代码</span></div><div class="token-line" style="color:#000000"><span class="token plain">public void swap(int a, int b) {</span></div><div class="token-line" style="color:#000000"><span class="token plain">    a = a ^ b;</span></div><div class="token-line" style="color:#000000"><span class="token plain">    b = a ^ b;</span></div><div class="token-line" style="color:#000000"><span class="token plain">    a = a ^ b;</span></div><div class="token-line" style="color:#000000"><span class="token plain">}</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>有没有立即觉得优雅简洁了？三个赋值语句，右边都是 <code>a^b</code>，左边则分别是 <code>a</code>、<code>b</code>、<code>a</code>——它是怎么实现的？一步步看：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">a = a ^ b</span></div><div class="token-line" style="color:#000000"><span class="token plain">b = a ^ b = (a ^ b) ^ b //代入a的表达式</span></div><div class="token-line" style="color:#000000"><span class="token plain">          = a ^ (b ^ b) //结合律</span></div><div class="token-line" style="color:#000000"><span class="token plain">          = a ^ 0       //变量与自身异或，结果为0</span></div><div class="token-line" style="color:#000000"><span class="token plain">          = a           //成功交换</span></div><div class="token-line" style="color:#000000"><span class="token plain">a = a ^ b = (a ^ b) ^ a //代入原本a与b的值</span></div><div class="token-line" style="color:#000000"><span class="token plain">          = (a ^ a) ^ b //结合律+交换律</span></div><div class="token-line" style="color:#000000"><span class="token plain">          = 0 ^ b       //变量与自身异或，结果为0</span></div><div class="token-line" style="color:#000000"><span class="token plain">          = b           //成功交换</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>由于一般的编译器不可能发现并优化成这种方法，因此需要程序员本人了解它并使用。而且，这样的算法，性能果然得到了一定提升，从 1ms 变成 0ms，成功碾压 100%的 java 程序，的确是异常神奇呢……</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="二、再接再厉"></a>二、再接再厉<a class="hash-link" href="#二、再接再厉" title="标题的直接链接">#</a></h2><p>看一道更加经典的题目：</p><blockquote><p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p><p>说明：你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？</p><p>示例 1:</p><p>输入: <code>[2,2,1]</code></p><p>输出: <code>1</code></p><p>示例 2:</p><p>输入: <code>[4,1,2,1,2]</code></p><p>输出: <code>4</code></p><p>来源：力扣（LeetCode）</p><p>链接：<a href="https://leetcode-cn.com/problems/single-number" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/single-number</a></p></blockquote><p>第一种思路：暴力扫描法，需要 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> 时间；第二种，填表记录法，需要 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> 时间和 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> 空间。那么，有没有 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> 时间和 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em">O</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> 空间的优美算法？</p><p>这种算法对于熟悉异或思想的人，实际上并不难想到：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">public int singleNumber(int[] nums) {</span></div><div class="token-line" style="color:#000000"><span class="token plain">    int a = 0;</span></div><div class="token-line" style="color:#000000"><span class="token plain">    for (int i = 0; i &lt; nums.length; i++) {</span></div><div class="token-line" style="color:#000000"><span class="token plain">        a ^= nums[i];</span></div><div class="token-line" style="color:#000000"><span class="token plain">    }</span></div><div class="token-line" style="color:#000000"><span class="token plain">    return a;</span></div><div class="token-line" style="color:#000000"><span class="token plain">}</span></div></div></div><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o">复制</button></div></div><p>因为把整个数组全部按位异或后，相同的数都两两抵消，变成 0 了，一堆 0 在一起运算，仍然是 0；0 和那个孤单的数异或，结果便是那个数本身。</p><p>所以，只要看到“相同”“重复出现”等字样，就应当把思路往异或上去靠。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="三、重回格雷码"></a>三、重回格雷码<a class="hash-link" href="#三、重回格雷码" title="标题的直接链接">#</a></h2><p>格雷码的得出，除了比较繁琐的递归法外，还有一种异或法：</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>3</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>3</mn></msub><mo>⊕</mo><msub><mi>B</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>2</mn></msub><mo>⊕</mo><msub><mi>B</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>G</mi><mn>0</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>B</mi><mn>1</mn></msub><mo>⊕</mo><msub><mi>B</mi><mn>0</mn></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} G_3&amp;=B_3\\ G_2&amp;=B_3\oplus B_2\\ G_1&amp;=B_2\oplus B_1\\ G_0&amp;=B_1\oplus B_0 \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6em;vertical-align:-2.7500000000000004em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999993em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-0.9099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999993em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-0.9099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>格雷码是为了杜绝进位时出现多个数位改变的情况；而在上面的算式中，如果两个数位（用 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span></span></span></span> 表示）同时从 11 变成 00，格雷码数位（用 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em"></span><span class="mord mathnormal">G</span></span></span></span></span> 表示）仍然保持为 0。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="四、minecraft-中的异或门"></a>四、Minecraft 中的异或门<a class="hash-link" href="#四、minecraft-中的异或门" title="标题的直接链接">#</a></h2><p>来讲讲如何在 Minecraft 中建造异或门。</p><p>Minecraft 中只提供了或门（两个输入端用红石线相连）和非门（红石火把）；那么，任务就是把异或用或和非来表示。</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>A</mi><mo>⊕</mo><mi>B</mi><mo>=</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi>B</mi><mo>+</mo><mi>A</mi><msup><mi>B</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mi>B</mi><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mo stretchy="false">(</mo><mi>A</mi><mo>+</mo><msup><mi>B</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mi>A</mi><mi>B</mi><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mo stretchy="false">(</mo><msup><mi>B</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mi>A</mi><mi>B</mi><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} A\oplus B=A&#x27;B+AB&#x27;=(A&#x27;+B)&#x27;+(A+B&#x27;)&#x27;=(A&#x27;+AB)&#x27;+(B&#x27;+AB)&#x27; \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5000000000000002em;vertical-align:-0.5000000000000002em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em"><span style="top:-3.16em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5000000000000002em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>至于为什么要写成最后的形式而不是倒数第二个式子，就需要一些逻辑设计的经验了。最后一种看似更繁琐，实际上独立项从四个变成了三个，便于电路设计。</p><p>接下来，运用丰富的红石电路设计经验，就搞出来了：</p><div style="text-align:center"><img src="/zh-Hans/img/./docs/Technology/xor/JGibibkelET6ickicicmsMd0DBoeWH4UjqXpE9cQke2iaoOHl6G11EPeDNCFFKe8JBicQTLShTYQeseTjib8YgymQHMI8g.jpeg"><p style="color:gray;font-size:small"></p></div><p>从左至右，分别对应输入是 00，01，11。这种设计，非常紧凑，但延时要比另一种也很常用的设计（虽然我个人不用）多 1 tick。</p><p>由此可见，异或运算的确是一种十分实用，潜力无限的工具。希望大家能使用好它。</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-Hans/docs/Science/vitamin"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">« 维生素图鉴</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-Hans/docs/Technology/typeset"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">如何做一个没有感情的排版机器 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一、从一类经典面试题类型讲起" class="table-of-contents__link">一、从一类经典面试题类型讲起</a></li><li><a href="#二、再接再厉" class="table-of-contents__link">二、再接再厉</a></li><li><a href="#三、重回格雷码" class="table-of-contents__link">三、重回格雷码</a></li><li><a href="#四、minecraft-中的异或门" class="table-of-contents__link">四、Minecraft 中的异或门</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">文章</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/Science/amino-acid">科学</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/Technology/easy-tsims">技术</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/Humanities/law">人文</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/Stories/red-pills">小说</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">社交</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.zhihu.com/people/joshcena" target="_blank" rel="noopener noreferrer" class="footer__link-item">知乎</a></li><li class="footer__item"><a href="https://discord.gg/AU7X2HtnDK" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/sida-chen-9592361b9/" target="_blank" rel="noopener noreferrer" class="footer__link-item">领英</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">更多</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/blog">博客</a></li><li class="footer__item"><a href="https://github.com/Josh-Cena" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzAwMzI0ODk0NA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="footer__link-item">微信公众平台</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">陈思达版权所有 © 2021. 使用 Docusaurus 搭建.</div></div></div></footer></div>
<script src="/zh-Hans/assets/js/styles.5cde54a4.js"></script>
<script src="/zh-Hans/assets/js/runtime~main.117c098d.js"></script>
<script src="/zh-Hans/assets/js/main.a1403e21.js"></script>
<script src="/zh-Hans/assets/js/1.e104f479.js"></script>
<script src="/zh-Hans/assets/js/2.0984c777.js"></script>
<script src="/zh-Hans/assets/js/3.9697c3f9.js"></script>
<script src="/zh-Hans/assets/js/1be78505.3395fb7c.js"></script>
<script src="/zh-Hans/assets/js/82.7b28ef6f.js"></script>
<script src="/zh-Hans/assets/js/935f2afb.75a136c9.js"></script>
<script src="/zh-Hans/assets/js/17896441.ed4d9c9a.js"></script>
<script src="/zh-Hans/assets/js/620bf1c9.8b59b5f0.js"></script>
</body>
</html>
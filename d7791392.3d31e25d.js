(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{121:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return u}));var n=a(3),s=a(7),r=(a(0),a(134)),o=a(135),i={title:"Building a docusaurus app",author:"Joshua Chen",author_url:"https://github.com/Josh-Cena",author_image_url:"https://avatars.githubusercontent.com/u/55398995?s=460&u=88dc0dcb0691877524dd8739db9fde7ed4fa9721&v=4",tags:["front end","personal page"]},c={permalink:"/blog/2021/03/09/docusaurus",source:"@site/blog/2021-3-9-docusaurus.md",description:"I switched to Docusaurus in March as framework for this website. This blog summarizes my experience.",date:"2021-03-09T00:00:00.000Z",tags:[{label:"front end",permalink:"/blog/tags/front-end"},{label:"personal page",permalink:"/blog/tags/personal-page"}],title:"Building a docusaurus app",readingTime:5.025,truncated:!0,nextItem:{title:"Hello world!",permalink:"/blog/2021/02/27/hello"}},l=[{value:"Why Docusaurus?",id:"why-docusaurus",children:[]},{value:"Building the app",id:"building-the-app",children:[]},{value:"Deployment",id:"deployment",children:[]}],p={toc:l};function u(e){var t=e.components,a=Object(s.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"I switched to Docusaurus in March as framework for this website. This blog summarizes my experience.")),Object(r.b)("h2",{id:"why-docusaurus"},"Why Docusaurus?"),Object(r.b)("p",null,"The dark period when this website was built with Vue is crucified for eternity in the ",Object(r.b)("a",{parentName:"p",href:"https://github.com/Josh-Cena/Personal-page/tree/202beb7770e17fbc6ab30bce4d928bf678ecc5e8"},"git history of the GH pages repo"),"."),Object(r.b)("img",{src:Object(o.a)("img/blog/2021-3-9/page.jpg")}),Object(r.b)("p",null,"Well, I'm not condemning Vue\u2014it is powerful. Powerful, indeed, since you can virtually build anything off it. The school club administration system that I'm currently developing uses Vue for front-end, for example. The blame is probably on me, that I don't have much time to spare to build everything from scratch."),Object(r.b)("p",null,"I initially chose Vue for three reasons, and had I begun with React, I probably would have the same arguments:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"I planned to showcase several of my earlier works, including ",Object(r.b)("a",{parentName:"li",href:"https://github.com/Computerization/New-member-practice-commit/tree/master/2019/Josh-Cena/Joshua-Todolist%20with%20vue"},"Todo list")," and ",Object(r.b)("a",{parentName:"li",href:"https://github.com/Josh-Cena/Web-math-editor"},"Math editor"),", which are both built with Vue. I can easily import them as modules if the entire website is Vue-based."),Object(r.b)("li",{parentName:"ol"},"I was just learning Vue-CLI at the time, and building the personal website becomes the perfect opportunity for some hands-on experience."),Object(r.b)("li",{parentName:"ol"},"I enjoyed have high degree of control over the page design, like where to put each component and sizing.")),Object(r.b)("p",null,"But problems soon emerged. To name a few:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Vue is simply not the best for purely static contents. It doesn't support Markdown out-of-the-box. To build the simple blog module, I had to build each blog post as HTML components and import them one-by-one\u2014a lot of messy code created in this process."),Object(r.b)("li",{parentName:"ol"},"I failed on auto deployment. CI constantly failed, and the ",Object(r.b)("a",{parentName:"li",href:"https://cli.vuejs.org/guide/deployment.html#platform-guides"},"official documentation")," didn't help much with handling CircleCI, the CI/CD app I'm using. ",Object(r.b)("strong",{parentName:"li"},"This is not Vue's problem, but mine.")," I just want some paradigm that I can directly copy from, which unfortunately was not available."),Object(r.b)("li",{parentName:"ol"},"I don't have much experience with UI designs. The hard-coded CSS that looks good on a computer screen becomes messed up on a mobile screen. Vuetify was too profound to work with.")),Object(r.b)("p",null,"In short, I want a tool that I can spend 30 minutes building ",Object(r.b)("em",{parentName:"p"},"something"),", not spending 30 days building ",Object(r.b)("em",{parentName:"p"},"everything"),". Docusaurus is good in this respect for its rapid development."),Object(r.b)("p",null,"Maybe I shouldn't have compared Vue with Docusaurus, just like one won't compare a knife to a fork, but I was simply illustrating the point of why I eventually migrated to Docusaurus. It supported hosting Markdown documents, and also exposed React APIs to build other components. I had to learn React as well since I've always worked with Vue, and I may write another post on Vue vs React later on. (And that might be a holy war worth fighting. In this war I still stand with Vue.)"),Object(r.b)("p",null,"I've already built two docusaurus apps. The homepage for ",Object(r.b)("a",{parentName:"p",href:"https://computerization.io"},"our Computerization club"),", and the homepage for the ",Object(r.b)("a",{parentName:"p",href:"https://baterock-minecraft.github.io"},"Baterock server"),". They had the exact same tech stack, so there indeed exists a paradigm handy."),Object(r.b)("p",null,"I still don't know if Docusaurus is the best tool to use for a personal webpage (for example, several people I know use Wordpress), but I decided to stick to what I'm familiar with. The primary purpose for Docusaurus is to host documentation for open-source projects, hence the word ",Object(r.b)("em",{parentName:"p"},'"Doc"'),"-usaurus. But it looks equally good for hosting articles and blog posts."),Object(r.b)("h2",{id:"building-the-app"},"Building the app"),Object(r.b)("p",null,"I spent 500 words talking about nonsense. Onto some tech stuff. Initiating a Docusaurus project is just:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ npx @docusaurus/init@latest init personal-page classic\n$ yarn install\n$ yarn start\n")),Object(r.b)("p",null,"And then there's lots of customization to be made. Docusaurus has dummy contents scattered everywhere, and it will take some time hunting them all down. Take a look at ",Object(r.b)("a",{parentName:"p",href:"https://github.com/Josh-Cena/Personal-page/commit/a5f2566068a5f915b75b39f8aabfe139f58125ef"},"this commit")," for most of the work that needs to be done. A short checklist:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Remove all pre-existing docs and blogs and add some real contents. Modify ",Object(r.b)("inlineCode",{parentName:"li"},"/sidebars.js")," as needed."),Object(r.b)("li",{parentName:"ul"},"Select a theme color for the page. I used ",Object(r.b)("inlineCode",{parentName:"li"},"#39cac4"),", reason given in the ",Object(r.b)("a",{href:Object(o.a)("CV/")},"profile"),". Consult ",Object(r.b)("a",{parentName:"li",href:"https://v2.docusaurus.io/docs/styling-layout#styling-your-site-with-infima"},"this tool")," for different shades, and paste them in ",Object(r.b)("inlineCode",{parentName:"li"},"/src/css/custom.css"),"."),Object(r.b)("li",{parentName:"ul"},"Draw a logo for the webpage. Most might use the GitHub avatar or a photo, but I did draw a logo which then became my new GitHub avatar. If you wish, re-draw the feature images on the front page as well."),Object(r.b)("li",{parentName:"ul"},"Browse through ",Object(r.b)("inlineCode",{parentName:"li"},"/docusaurus.config.js")," line-by-line and make necessary modifications."),Object(r.b)("li",{parentName:"ul"},"Browse through ",Object(r.b)("inlineCode",{parentName:"li"},"/src/pages/index.js")," line-by-line and make necessary modifications."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("span",{parentName:"li",className:"math math-inline"},Object(r.b)("span",{parentName:"span",className:"katex"},Object(r.b)("span",{parentName:"span",className:"katex-mathml"},Object(r.b)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},Object(r.b)("semantics",{parentName:"math"},Object(r.b)("mrow",{parentName:"semantics"},Object(r.b)("mtext",{parentName:"mrow"},"KaTeX")),Object(r.b)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\text{\\KaTeX}")))),Object(r.b)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},Object(r.b)("span",{parentName:"span",className:"base"},Object(r.b)("span",{parentName:"span",className:"strut",style:{height:"0.89883em",verticalAlign:"-0.2155em"}}),Object(r.b)("span",{parentName:"span",className:"mord text"},Object(r.b)("span",{parentName:"span",className:"mord text"},Object(r.b)("span",{parentName:"span",className:"mord textrm"},"K"),Object(r.b)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.17em"}}),Object(r.b)("span",{parentName:"span",className:"vlist-t"},Object(r.b)("span",{parentName:"span",className:"vlist-r"},Object(r.b)("span",{parentName:"span",className:"vlist",style:{height:"0.68333em"}},Object(r.b)("span",{parentName:"span",style:{top:"-2.904999em"}},Object(r.b)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),Object(r.b)("span",{parentName:"span",className:"mord"},Object(r.b)("span",{parentName:"span",className:"mord textrm mtight sizing reset-size6 size3"},"A")))))),Object(r.b)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.15em"}}),Object(r.b)("span",{parentName:"span",className:"mord text"},Object(r.b)("span",{parentName:"span",className:"mord textrm"},"T"),Object(r.b)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.1667em"}}),Object(r.b)("span",{parentName:"span",className:"vlist-t vlist-t2"},Object(r.b)("span",{parentName:"span",className:"vlist-r"},Object(r.b)("span",{parentName:"span",className:"vlist",style:{height:"0.46782999999999997em"}},Object(r.b)("span",{parentName:"span",style:{top:"-2.7845em"}},Object(r.b)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),Object(r.b)("span",{parentName:"span",className:"mord"},Object(r.b)("span",{parentName:"span",className:"mord textrm"},"E")))),Object(r.b)("span",{parentName:"span",className:"vlist-s"},"\u200b")),Object(r.b)("span",{parentName:"span",className:"vlist-r"},Object(r.b)("span",{parentName:"span",className:"vlist",style:{height:"0.2155em"}},Object(r.b)("span",{parentName:"span"})))),Object(r.b)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.125em"}}),Object(r.b)("span",{parentName:"span",className:"mord textrm"},"X"))))))))," is a ",Object(r.b)("strong",{parentName:"li"},"must")," for me. Add it by running")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ yarn add rehype-katex\n$ yarn add remark-math@3.0.1\n")),Object(r.b)("p",null,"and adding"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/docusaurus.config.js" {1-2,9-33,38-46}',title:'"/docusaurus.config.js"',"{1-2,9-33,38-46}":!0},"const remarkMath = require('remark-math');\nconst rehypeKatex = require('rehype-katex');\n\nmodule.exports = {\n  title: 'Joshua Chen',\n\n  ...\n\n  stylesheets: [\n    {\n      href: 'https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css',\n      type: 'text/css',\n      integrity:\n        'sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X',\n      crossorigin: 'anonymous',\n    },\n  ],\n  scripts: [\n    {\n      src: 'https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js',\n      integrity:\n        'sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4',\n      crossorigin: 'anonymous',\n      defer: true,\n    },\n    {\n      src: 'https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/mhchem.min.js',\n      integrity:\n        'sha384-5gCAXJ0ZgozlShOzzT0OWArn7yCPGWVIvgo+BAd8NUKbCmulrJiQuCVR9cHlPHeG',\n      crossorigin: 'anonymous',\n      defer: true,\n    },\n  ],\n  presets: [\n    [\n      '@docusaurus/preset-classic',\n      {\n        docs: {\n          sidebarPath: require.resolve('./sidebars.js'),\n          remarkPlugins: [remarkMath],\n          rehypePlugins: [[rehypeKatex, { strict: false }]],\n        },\n        blog: {\n          remarkPlugins: [remarkMath],\n          rehypePlugins: [[rehypeKatex, { strict: false }]],\n        },\n        theme: {\n          customCss: require.resolve('./src/css/custom.css'),\n        },\n      },\n    ],\n  ],\n}\n")),Object(r.b)("p",null,"I got the inspiration from ",Object(r.b)("a",{parentName:"p",href:"https://docs.theochu.com/docusaurus/latex/"},"https://docs.theochu.com/docusaurus/latex/"),". This may not be the most elegant way to do it, but it works. Sadly, until now I've been unable to incorporate ",Object(r.b)("inlineCode",{parentName:"p"},"mhchem")," correctly, so ",Object(r.b)("inlineCode",{parentName:"p"},"\\ce{}")," still fails."),Object(r.b)("h2",{id:"deployment"},"Deployment"),Object(r.b)("p",null,"The next step I did was setting up CI/CD. The CircleCI ",Object(r.b)("a",{parentName:"p",href:"https://github.com/Josh-Cena/Personal-page/blob/master/.circleci/config.yml"},"configuration file")," is readily available. The only changes needed to be made are the git credentials and ",Object(r.b)("inlineCode",{parentName:"p"},"environment")," variables in ",Object(r.b)("inlineCode",{parentName:"p"},"deploy-gh-pages"),". Generate a personal access token ",Object(r.b)("a",{parentName:"p",href:"https://github.com/settings/tokens"},"here"),". Give it repo controls only and paste it into the CircleCI project settings > Environment Variables. And that's it."),Object(r.b)("hr",null),Object(r.b)("p",null,"And that's it\u2014now I get a webpage already loaded with contents. The next step is to write some components. In the following posts, I plan to discuss:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Automating bulk file processing with bash scripts;"),Object(r.b)("li",{parentName:"ul"},"TypeScript vs JavaScript;"),Object(r.b)("li",{parentName:"ul"},"React components vs Vue components.")),Object(r.b)("p",null,"Every topic sounds very ambitious that I can write an epic on. I will try to make everything succint and to the point."))}u.isMDXComponent=!0},134:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var n=a(0),s=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=s.a.createContext({}),p=function(e){var t=s.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return s.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return s.a.createElement(s.a.Fragment,{},t)}},b=s.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(a),b=n,h=u["".concat(o,".").concat(b)]||u[b]||m[b]||r;return a?s.a.createElement(h,i(i({ref:t},l),{},{components:a})):s.a.createElement(h,i({ref:t},l))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var l=2;l<r;l++)o[l]=a[l];return s.a.createElement.apply(null,o)}return s.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"},135:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(22),s=a(137);function r(){var e=Object(n.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,a=void 0===t?"/":t,r=e.url;return{withBaseUrl:function(e,t){return function(e,t,a,n){var r=void 0===n?{}:n,o=r.forcePrependBaseUrl,i=void 0!==o&&o,c=r.absolute,l=void 0!==c&&c;if(!a)return a;if(a.startsWith("#"))return a;if(Object(s.b)(a))return a;if(i)return t+a;var p=a.startsWith(t)?a:t+a.replace(/^\//,"");return l?e+p:p}(r,a,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,r().withBaseUrl)(e,t)}},137:function(e,t,a){"use strict";function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function s(e){return void 0!==e&&!n(e)}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}))}}]);